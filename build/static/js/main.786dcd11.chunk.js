(this.webpackJsonpbraincell=this.webpackJsonpbraincell||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(36),i=n.n(o),s=(n(127),n.p,n(128),n(11)),r=n(22),l=n(213),j=n(214),d=n(215),u=n(160),b=n(216),h=n(96),O=n.n(h),x=n(14),m=n(25),p=n(4),g=n(28),f=n(206),v=n(210),y=n(217),C=n(97),S=n.n(C),w=n(98),k=n.n(w),_=n(203),F=n(218),I=n(219),L=n(99),U=n.n(L),W=n(100),P=n.n(W),D=n(205),q=n(200),B=n(208),E=n(211),z=n(209),T=n(212),V=n(197),A=n(5),M=n(93),G=n.n(M).a.create({timeout:2e4});G.defaults.baseURL="http://localhost:8000/",G.defaults.headers.post["Content-Type"]="application/json";var J=G,H=n(1);function N(e){var t=e.openSignUp,n=e.setOpenSignUp,c=function(){n(!1)},o=a.useState({username:"",email:"",password:"",password2:""}),i=Object(s.a)(o,2),l=i[0],j=i[1],d=function(e){e.preventDefault(),j(Object(r.a)(Object(r.a)({},l),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(H.jsx)("div",{children:Object(H.jsxs)(B.a,{open:t,onClose:c,component:"form",onSubmit:function(){console.log(l)},children:[Object(H.jsx)(V.a,{children:"Sign Up"}),Object(H.jsxs)(z.a,{children:[Object(H.jsx)(q.a,{autoFocus:!0,margin:"dense",id:"username",label:"enter your user name",name:"username",type:"text",fullWidth:!0,required:!0,variant:"standard",onChange:d,value:l.username}),Object(H.jsx)(q.a,{autoFocus:!0,id:"email",margin:"dense",label:"enter your email",type:"email",name:"email",fullWidth:!0,variant:"standard",onChange:d,value:l.email,required:!0}),Object(H.jsx)(q.a,{autoFocus:!0,id:"password",margin:"dense",label:"enter new password",type:"text",name:"password",fullWidth:!0,required:!0,variant:"standard",onChange:d,value:l.password}),Object(H.jsx)(q.a,{autoFocus:!0,id:"password2",margin:"dense",required:!0,label:"retype password",type:"password",name:"password2",fullWidth:!0,variant:"standard",onChange:d,value:l.password2})]}),Object(H.jsxs)(E.a,{children:[Object(H.jsx)(D.a,{onClick:c,children:"Cancel"}),Object(H.jsx)(D.a,{type:"submit",children:"Create Account"})]})]})})}function R(e){var t=Object(x.f)(),n=e.openLogin,c=e.setOpenLogin,o=Object(a.useState)(!1),i=Object(s.a)(o,2),r=i[0],l=i[1],j=Object(a.useState)(""),d=Object(s.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)(""),p=Object(s.a)(O,2),g=p[0],f=p[1],v=Object(a.useState)(null),y=Object(s.a)(v,2),C=y[0],S=y[1],w=function(e){""!=console.log(e)?(localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("user_id",e.data.user_details.user_id),t("/"),k(),S(null)):console.log("fail",e)},k=function(){c(!1)};return Object(H.jsxs)("div",{children:[Object(H.jsxs)(B.a,{open:n,onClose:k,children:[Object(H.jsx)(V.a,{children:"Login"}),Object(H.jsxs)(z.a,{children:[Object(H.jsx)(q.a,{autoFocus:!0,margin:"dense",id:"username",label:"Username",type:"text",fullWidth:!0,variant:"standard",value:b,onChange:function(e){return h(e.target.value)},required:!0}),Object(H.jsx)(q.a,{autoFocus:!0,margin:"dense",id:"password",label:"password",type:"password",fullWidth:!0,variant:"standard",value:g,onChange:function(e){return f(e.target.value)},required:!0}),C&&Object(H.jsx)(u.a,{color:"error",children:"incorrect password"})]}),Object(H.jsxs)(E.a,{children:[Object(H.jsx)(D.a,{onClick:k,children:"Cancel"}),Object(H.jsx)(D.a,{onClick:function(){console.log("test values are:",b,g),J.post("login","grant_type=&username=".concat(b,"&password=").concat(g,"&scope=&client_id=&client_secret="),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then(w).catch((function(e){console.log(e,"not working"),S(e)}))},children:"Login"})]}),Object(H.jsxs)(T.a,{sx:{position:"absolute",left:"10px",bottom:"10px"},children:["Sign up ",Object(H.jsx)(m.b,{to:"/",onClick:function(){l(!0),k()},children:"here"})]})]}),Object(H.jsx)(N,{openSignUp:r,setOpenSignUp:l})]})}var K=n(101),Q=n.n(K),X=240,Y=Object(p.a)(l.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(r.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat(X,"px)"),marginLeft:"".concat(X,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),Z=Object(p.a)("div")((function(e){var t=e.theme;return Object(r.a)(Object(r.a)({display:"flex",backgroundColor:"inherit",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})}));function $(){var e=Object(g.a)(),t=Object(x.f)(),n=Object(a.useState)(!1),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(!1),h=Object(s.a)(l,2),p=h[0],C=h[1],w=Object(a.useState)(!1),L=Object(s.a)(w,2),W=L[0],q=L[1];return Object(H.jsxs)(j.a,{sx:{flexGrow:1},children:[Object(H.jsx)(Y,{position:"static",color:"secondary",children:Object(H.jsxs)(d.a,{children:[Object(H.jsx)(b.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",sx:Object(r.a)({mr:2},o&&{display:"none"}),children:Object(H.jsx)(O.a,{})}),Object(H.jsx)(m.b,{to:"/",style:{textDecoration:"none",color:"inherit"},children:Object(H.jsx)(u.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Braincell"})}),localStorage.getItem("access_token")?Object(H.jsx)(D.a,{color:"inherit",variant:"outlined",sx:{position:"absolute",right:"5px"},onClick:function(){localStorage.removeItem("access_token","user_id"),t("/")},children:"Logout"}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(D.a,{color:"inherit",variant:"outlined",sx:{position:"absolute",right:"10px"},onClick:function(){return C(!0)},children:"Login"}),Object(H.jsx)(D.a,{color:"inherit",variant:"outlined",sx:{position:"absolute",right:"110px"},onClick:function(){return q(!0)},children:"SignUp"})]})]})}),Object(H.jsxs)(f.a,{sx:{width:X,flexShrink:0,"& .MuiDrawer-paper":{width:X,boxSizing:"border-box"}},variant:"temporary",anchor:"left",open:o,children:[Object(H.jsx)(Z,{children:Object(H.jsx)(b.a,{onClick:function(){i(!1)},children:"ltr"===e.direction?Object(H.jsx)(S.a,{}):Object(H.jsx)(k.a,{})})}),Object(H.jsx)(y.a,{}),Object(H.jsxs)(v.a,{children:[Object(H.jsxs)(_.a,{button:!0,component:"a",href:"/",children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(U.a,{})}),Object(H.jsx)(I.a,{primary:"Home"})]}),localStorage.getItem("access_token")?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(_.a,{button:!0,component:"a",href:"/create-post",children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(P.a,{})}),Object(H.jsx)(I.a,{primary:"Create Post"})]}),Object(H.jsxs)(_.a,{button:!0,component:"a",href:"/my-posts",children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(Q.a,{})}),Object(H.jsx)(I.a,{primary:"My Posts"})]})]}):Object(H.jsx)(H.Fragment,{})]}),Object(H.jsx)(y.a,{}),Object(H.jsx)(v.a,{})]}),Object(H.jsx)(R,{openLogin:p,setOpenLogin:C}),Object(H.jsx)(N,{openSignUp:W,setOpenSignUp:q})]})}var ee=n(224),te=n(221),ne=n(222),ae=n(223);function ce(e){var t=e.postData;return Object(H.jsx)(j.a,{m:3,children:Object(H.jsxs)(te.a,{children:[Object(H.jsx)(ne.a,{title:Object(H.jsxs)(m.b,{to:"/view-post/".concat(t.id),style:{color:"inherit",underline:"never"},children:[t.id," ",t.title]})}),Object(H.jsxs)(ae.a,{children:[Object(H.jsx)(u.a,{variant:"h5",children:t.summary}),Object(H.jsx)("div",{children:Object(H.jsxs)(u.a,{variant:"h10",m:4,children:["Created on ",t.created_on]})})]})]})})}function oe(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){console.log("This got called"),J.get("/posts").then((function(e){console.log("here is my data",e.data),c(e.data.posts)})).catch((function(e){console.log(e)}))}),[]);var o=n.map((function(e){return Object(H.jsx)(ce,{postData:e},e.id)}));return Object(H.jsx)(ee.a,{maxWidth:"lg",children:o})}function ie(){var e=x.f,t=Object(x.g)().id,n=Object(a.useState)({}),c=Object(s.a)(n,2),o=c[0],i=c[1],r=function(){J.delete("/delete-post/".concat(t)).then((function(e){return console.log(e)})).then((function(){return e("/create-post")}))};Object(a.useEffect)((function(){J.get("/get-post/".concat(t)).then((function(e){i(e.data.post)})).catch((function(e){console.log(e)}))}),[]);return Object(H.jsxs)(ee.a,{maxWidth:"lg",children:[Object(H.jsxs)(te.a,{children:[Object(H.jsx)(ne.a,{title:"Currently Viewing ".concat(o.title)}),Object(H.jsxs)(ae.a,{children:[Object(H.jsx)(u.a,{variant:"h5",children:o.summary}),Object(H.jsx)(u.a,{variant:"body",children:o.body}),Object(H.jsx)("div",{children:Object(H.jsxs)(u.a,{variant:"h10",m:4,children:["Created on ",o.created_on," this is ",o.id]})})]})]}),console.log("the ids are",o.user_id,localStorage.getItem("user_id")),o.user_id==localStorage.getItem("user_id")?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(D.a,{variant:"contained",color:"success",children:Object(H.jsxs)(m.b,{to:"/update-post/".concat(o.id),style:{textDecoration:"none",color:"inherit"},children:["edit post ",o.id," "]})}),Object(H.jsxs)(D.a,{variant:"contained",color:"error",onClick:r,children:["delete post ",o.id]})]}):console.log("empty")]})}function se(){var e=Object(x.f)(),t=localStorage.getItem("user_id"),n=Object(a.useState)({title:"",summary:"",body:""}),c=Object(s.a)(n,2),o=c[0],i=c[1],l=function(e){i(Object(r.a)(Object(r.a)({},o),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(H.jsxs)(j.a,{component:"form",noValidate:!0,autoComplete:"off",children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{children:Object(H.jsx)(q.a,{onChange:l,id:"outlined-textarea",label:"title",name:"title",placeholder:"Placeholder",multiline:!0,value:o.title,sx:{float:"left",m:1}})}),Object(H.jsx)("div",{children:Object(H.jsx)(q.a,{id:"outlined-textarea2",onChange:l,label:"Summary",name:"summary",placeholder:"Placeholder",multiline:!0,value:o.summary,sx:{float:"left",m:1,width:"60ch"}})}),Object(H.jsx)("div",{children:Object(H.jsx)(q.a,{onChange:l,id:"outlined-textarea3",label:"Body",name:"body",placeholder:"Placeholder",multiline:!0,value:o.body,size:"large",sx:{float:"left",m:1,width:"100ch",height:"90%"}})})]}),Object(H.jsx)("div",{children:Object(H.jsx)(D.a,{variant:"contained",color:"primary",onClick:function(){console.log("here are values",o),J.post("create-posts/".concat(t),{title:o.title,summary:o.summary,body:o.body},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){return console.log(e)})).then((function(){return e("/")}))},sx:{float:"left",m:1},children:"Submit"})})]})}function re(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=localStorage.getItem("user_id");Object(a.useEffect)((function(){console.log("these are my posts"),console.log(o),J.get("/get-user/".concat(o)).then((function(e){console.log("my data only",e.data),c(e.data.blogs),console.log(e.data.blogs)})).catch((function(e){console.log(e)}))}),[]);var i=n.map((function(e){return Object(H.jsx)(ce,{postData:e},e.id)}));return Object(H.jsx)(ee.a,{maxWidth:"lg",children:i})}function le(){x.f;var e=Object(x.g)().id,t=Object(a.useState)({}),n=Object(s.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)((function(){J.get("/posts/".concat(e)).then((function(e){o(e.data.post)})).catch((function(e){console.log(e)}))}),[]);var i=Object(a.useState)({title:"".concat(c.title),summary:"",body:""}),l=Object(s.a)(i,2),d=l[0],b=l[1],h=function(e){b(Object(r.a)(Object(r.a)({},d),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(H.jsxs)(ee.a,{maxWidth:"lg",children:[Object(H.jsxs)(te.a,{children:[Object(H.jsx)(ne.a,{title:"Currently Viewing ".concat(c.title)}),Object(H.jsx)(u.a,{variant:"h5",children:c.summary}),Object(H.jsx)(u.a,{variant:"body",children:c.body}),Object(H.jsx)("div",{children:Object(H.jsxs)(u.a,{variant:"h10",m:4,children:["Created on ",c.created_on]})})]}),Object(H.jsx)(j.a,{component:"form",noValidate:!0,autoComplete:"off",children:Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{children:Object(H.jsx)(q.a,{onChange:h,id:"outlined-textarea",label:"title",name:"title",placeholder:c.title,multiline:!0,value:d.title,sx:{float:"left",m:1}})}),Object(H.jsx)("div",{children:Object(H.jsx)(q.a,{id:"outlined-textarea2",onChange:h,label:"Summary",name:"summary",placeholder:c.summary,multiline:!0,value:d.summary,sx:{float:"left",m:1,width:"60ch"}})}),Object(H.jsx)("div",{children:Object(H.jsx)(q.a,{onChange:h,id:"outlined-textarea3",label:"Body",name:"body",placeholder:c.body,multiline:!0,value:d.body,size:"large",sx:{float:"left",m:1,width:"100ch",height:"90%"}})}),Object(H.jsx)("div",{children:Object(H.jsx)(D.a,{variant:"contained",color:"success",onClick:function(){console.log("edited values",d),J.put("/update-post/".concat(c.id),{title:d.title,summary:d.summary,body:d.body}).then((function(){console.log("test")}))},children:"Update Post"})})," "]})})]})}function je(){return Object(H.jsx)("div",{children:Object(H.jsxs)(m.a,{children:[Object(H.jsx)($,{}),Object(H.jsxs)(x.c,{children:[Object(H.jsx)(x.a,{path:"/",element:Object(H.jsx)(oe,{})}),Object(H.jsx)(x.a,{path:"/view-post/:id",element:Object(H.jsx)(ie,{})}),Object(H.jsx)(x.a,{path:"/update-post/:id",element:Object(H.jsx)(le,{})}),Object(H.jsx)(x.a,{path:"/create-post",element:Object(H.jsx)(se,{})}),Object(H.jsx)(x.a,{path:"/my-posts",element:Object(H.jsx)(re,{})}),Object(H.jsx)(x.a,{path:"/sign-up",element:Object(H.jsx)(N,{})})]})]})})}var de=function(){return Object(H.jsx)("div",{className:"App",children:Object(H.jsx)(je,{})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(de,{})}),document.getElementById("root")),ue()}},[[153,1,2]]]);
//# sourceMappingURL=main.786dcd11.chunk.js.map